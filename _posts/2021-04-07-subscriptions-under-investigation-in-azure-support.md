---
title: "Azure サポートに対してお問合せいただいた際の調査対象について"
author_name: "Toshinao Onodera"
tags:
    - Azure Support
    - Subscription
---

こんにちわ。Azure サポートの小野寺です。<br>
今回は Azure サポートにお問い合わせいただいた際に、私どもが調査対象とする範囲についてご説明します。

例えば以下のようなお問い合わせがあったとします。


# 質問例
Azure API Management -> Azure Web Apps という環境があります。この環境に対してクライアントから Azure API Management に対してアクセスした際に 500 応答が返ってきました。プラットフォーム側の調査をお願いします。

Azure API Management (サブスクリプション : A) <br>
Azure Web Apps (サブスクリプション : B) <br>
※ Azure API Management と Azure Web Apps が別のサブスクリプションにあるパターンです。

# お問合せ起票時に選択したサブスクリプション
サブスクリプション : A <br>
リソース : API Management のリソース <br>
※Azure ポータルの以下の画面の赤枠の選択肢です。 <br>
![image.png]({{site.baseurl}}/media/2021/04/2021-04-07-support-request.png)

# Azure サポートの調査対象範囲
上記お問合せの場合、Azure サポートからはサブスクリプション A に属している API Management リソースの状況を確認し、回答をいたします。仮に本事象がバックエンドにある Web Apps 側の応答に依存した事象だった場合には、Web Apps のリソースを選択した形で新規のお問合せ起票をお願いしています。

# 対応の理由
Microsoft Azure プラットフォームでは、RBAC (Role Based Access Control) を利用し、各ユーザーに対して操作可能なオペレーションを厳密にコントロールすることが可能です。 <br><br>
例えば、お問い合わせ起票者がサブスクリプション A に対しての権限は持っていても、サブスクリプション B の権限がなかったとします。このような場合にサブスクリプション B のリソース情報などを含めた開示を行うと、**<font color="red">本来閲覧ができないリソースの情報を弊社からお客様に開示してしまい、情報漏洩につながる</font>** 可能性があります。(例えば部門外秘などで、それぞれのサブスクリプションの管理者が別部門の担当者の場合などです)<br><br>
そのため、お問い合わせ起票時に選択したサブスクリプションと異なるサブスクリプションのリソースに関するお問い合わせを頂戴した際には、**<font color="red">リソースが所属しているサブスクリプションを選択して改めてお問合せをいただく</font>** ようお願いしています。

上記のような状況となった場合にはお手数をおかけいたしますが、お客様の大切な情報を保護するため、新しいお問合せの起票へのご協力、何卒よろしくお願いいたします。