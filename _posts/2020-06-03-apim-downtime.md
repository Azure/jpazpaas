---
title: "設定変更やメンテナンスで APIM にダウンタイムは発生するか"
author_name: "Yo Motoya"
tags:
    - API Management
category: apim
---

以下の通り、Developer レベル以外の場合は、基本的にダウンタイムは発生しません。Basic、Standard、Premium レベルの場合、1 ユニットあたり 2 台の仮想マシンで構成されています。また、Consumption レベルの場合は、内部的な実装が他のレベルとは異なり、App Service の仕組み上で稼働しています。これら価格レベルは、各種操作を実行する際、例えば仮想マシンを 1 台ずつ再起動を実施するといったように、APIM サービス全体が影響を受けないよう順次処理が実行され、ダウンタイムが発生しない状況となります。

ただし、何らかの一時的な問題でリクエストが失敗する可能性は考えられるかと思います。そのため、システムのご要件によっては、クライアント側でリトライの仕組みを導入することを推奨します。

Developer レベルでは、SLA が提供されていません。1 ユニット、仮想マシン 1 台で構成されており、例えば再起動が必要な処理が実行される場合は、どうしてもダウンタイムが発生する状況となります。

そのため、各操作やプラットフォームのメンテナンスによって、ダウンタイムが発生する場合があり、本番環境でのご利用については推奨しておりません。評価や開発、テストなどを実施する環境としてご活用ください。

## 設定変更やメンテナンスによる影響

- Developer レベルの場合、ダウンタイムが発生する場合があります。
- Developer レベル以外の場合、ダウンタイムは発生しません。

## スケールアップおよびスケールダウンによる影響 ※1

- Developer レベルから他のレベルへのスケールアップする場合、ダウンタイムが発生します。
- Developer レベル以外から Developer レベルへスケールダウンする場合、ダウンタイムが発生します。
- 上記以外の場合、ダウンタイムは発生しません。

## スケールアウトおよびスケールインによる影響

- ダウンタイムは発生しません。（Developer レベルの場合は、2 ユニット以上で構成することはできません。※2）


## 参考ドキュメント

- ※1 [スケールアップおよびスケールダウンの際のダウンタイム](https://docs.microsoft.com/ja-jp/azure/api-management/upgrade-and-scale#downtime-during-scaling-up-and-down) <br>
    抜粋）Developer レベルへのスケールダウンまたは Developer レベルからのスケールアップを行うとき、ダウンタイムが発生します。 それ以外の場合、ダウンタイムはありません

- ※2 [API Management の価格](https://azure.microsoft.com/ja-jp/pricing/details/api-management)

    ![2020-06-03-apim-downtime-pricing.png]({{site.baseurl}}/media/2020-06-03-apim-downtime-pricing.png)

<br>
<br>

---

<br>
<br>

2020 年 6 月 1 日時点の内容となります。<br>
本記事の内容は予告なく変更される場合がございますので予めご了承ください。

<br>
<br>
